(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"O/wF":function(l,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return i});var t=e("LoAr"),u=(e("8dL6"),t["\u0275crt"]({encapsulation:0,styles:[".fab[_ngcontent-%COMP%] { color: black; }\n        p[_ngcontent-%COMP%] {\n            margin-top: 0;\n        }\n        a[_ngcontent-%COMP%] {\n            padding: 8px;\n            display: inline-block;\n            background: rgba(68, 72, 224, 0.14);\n            background: #e5e2fa;\n            background: #e2ecfa;\n            text-decoration: none;\n        }"],data:{}}));function i(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fab fa-github"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" View the source on GitHub "]))],null,function(l,n){l(n,1,0,n.component.link)})}},iz7f:function(l,n,e){"use strict";e.r(n);var t=e("LoAr"),u=function(){},i=e("C9Ky"),o=e("O/wF"),r=e("8dL6"),a=e("981U"),d=e("WT9V"),c=e("r6jt"),s=function(){},g=function(){function l(l,n){var e=this;this.elRef=l,this.dnd=n,this.beginDrag=new t.EventEmitter,this.endDrag=new t.EventEmitter,this.onMove=new t.EventEmitter,this.cardSource=this.dnd.dragSource("CARD",{beginDrag:function(){return e.beginDrag.emit(),{id:e.id,index:e.index}},endDrag:function(l){var n=l.didDrop();e.endDrag.emit(n)}}),this.cardTarget=this.dnd.dropTarget("CARD",{hover:function(l){var n=l.getItem().index,t=e.index;if(n!==t){var u=e.elRef.nativeElement.getBoundingClientRect(),i=(u.bottom-u.top)/2,o=l.getClientOffset().y-u.top;n<t&&o<i||n>t&&o>i||(e.onMove.emit([n,t]),l.getItem().index=t)}}}),this.isDragging$=this.cardSource.listen(function(l){return l.isDragging()}),this.opacity$=this.cardSource.listen(function(l){return l.isDragging()?.2:1})}return l.prototype.moveCard=function(l,n){this.onMove.emit([l,n])},l.prototype.ngOnDestroy=function(){this.cardSource.unsubscribe(),this.cardTarget.unsubscribe()},l}(),p=t["\u0275crt"]({encapsulation:0,styles:[".card[_ngcontent-%COMP%] {\n                padding-bottom: 0.25rem;\n                background-color: white;\n                cursor: move;\n            }\n            .border[_ngcontent-%COMP%] {\n                padding: 0.5rem 1rem;\n                border: 1px dashed gray;\n            }"],data:{}});function f(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function m(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","card"]],[[4,"opacity",null]],null,null,null,null)),t["\u0275did"](1,671744,null,0,c.d,[t.ElementRef,t.NgZone],{dragSource:[0,"dragSource"]},null),t["\u0275did"](2,671744,null,0,c.e,[t.ElementRef,t.NgZone],{dropTarget:[0,"dropTarget"]},null),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","border"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,f)),t["\u0275did"](6,540672,null,0,d.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](7,{$implicit:0})],function(l,n){var e=n.component;l(n,1,0,e.cardSource),l(n,2,0,e.cardTarget),l(n,6,0,l(n,7,0,e.card),e.cardInnerTemplate)},function(l,n){var e=n.component;l(n,0,0,t["\u0275unv"](n,0,0,t["\u0275nov"](n,3).transform(e.opacity$)))})}var h=e("lWex"),b=e("yziD"),v=function(){function l(){this.cards=[{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Write a glorious Medium post to promote it (note that this element is taller, and far more important, than the others)"},{id:6,text:"Sit back and relax"}],this.origCards=this.cards}return l.prototype.findCard=function(l){return this.cards.find(function(n){return n.id===l})},l.prototype.beginDrag=function(){this.origCards=this.cards.slice(0)},l.prototype.endDrag=function(l){l||(this.cards=this.origCards)},l.prototype.moveCard=function(l){var n=l[0],e=l[1],t=this.cards[n];this.cards.splice(n,1),this.cards.splice(e,0,t)},l.prototype.tracker=function(l,n){return n.id},l}(),y=t["\u0275crt"]({encapsulation:0,styles:[".sorted[_ngcontent-%COMP%] { width: 100%; max-width: 400px; }"],data:{}});function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," ",""]))],null,function(l,n){l(n,1,0,n.parent.parent.context.item.index+1,n.context.$implicit.text)})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"app-card",[],null,null,null,m,p)),t["\u0275did"](1,180224,null,1,g,[t.ElementRef,c.g],{card:[0,"card"]},null),t["\u0275qud"](335544320,2,{cardInnerTemplate:0}),(l()(),t["\u0275and"](0,[[2,2],[1,2]],null,1,null,x)),t["\u0275did"](4,16384,null,0,s,[],null,null)],function(l,n){l(n,1,0,n.component.findCard(n.parent.context.item.id))},null)}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","sorted"]],null,null,null,null,null)),t["\u0275did"](1,16384,null,0,d.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t["\u0275and"](16777216,[[1,2]],null,1,null,C)),t["\u0275did"](3,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){l(n,1,0,n.context.$implicit),l(n,3,0,"CARD")},null)}function w(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit.text)})}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"app-card",[],null,[[null,"onMove"],[null,"beginDrag"],[null,"endDrag"]],function(l,n,e){var t=!0,u=l.component;return"onMove"===n&&(t=!1!==u.moveCard(e)&&t),"beginDrag"===n&&(t=!1!==u.beginDrag(e)&&t),"endDrag"===n&&(t=!1!==u.endDrag(e)&&t),t},m,p)),t["\u0275did"](1,180224,null,1,g,[t.ElementRef,c.g],{card:[0,"card"],index:[1,"index"],id:[2,"id"]},{beginDrag:"beginDrag",endDrag:"endDrag",onMove:"onMove"}),t["\u0275qud"](335544320,3,{cardInnerTemplate:0}),(l()(),t["\u0275and"](0,[[3,2]],null,1,null,w)),t["\u0275did"](4,16384,null,0,s,[],null,null)],function(l,n){l(n,1,0,n.context.$implicit,n.context.index,n.context.$implicit.id)},null)}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"skyhook-preview",[],null,null,null,h.b,h.a)),t["\u0275did"](1,180224,null,1,b.c,[c.g,c.b],null,null),t["\u0275qud"](603979776,1,{content:0}),(l()(),t["\u0275and"](0,[[1,2]],null,0,null,D)),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","sorted"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](6,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(l,n){var e=n.component;l(n,6,0,e.cards,e.tracker)},null)}var M=function(){},O=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function S(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-example-link",[["path","basic-sortable"]],null,null,null,o.b,o.a)),t["\u0275did"](1,49152,null,0,r.a,[],{path:[0,"path"]},null),(l()(),t["\u0275eld"](2,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" You can make a sortable by: "])),(l()(),t["\u0275eld"](4,0,null,null,19,"ul",[],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,7,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["giving each card a "])),(l()(),t["\u0275eld"](7,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DragSource"])),(l()(),t["\u0275ted"](-1,null,[" and a "])),(l()(),t["\u0275eld"](10,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["DropTarget"])),(l()(),t["\u0275ted"](-1,null,[";"])),(l()(),t["\u0275eld"](13,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["determining when you are hovering on the upper or lower half of a neighbouring card using "])),(l()(),t["\u0275eld"](15,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["monitor.getClientOffset()"])),(l()(),t["\u0275ted"](-1,null,[";"])),(l()(),t["\u0275eld"](18,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["working out when a reordering is necessary by comparing the index with the item in flight's index;"])),(l()(),t["\u0275eld"](20,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["bubbling up reordering events, and also beginDrag, endDrag and drop events to a component that controls re-rendering the list; and"])),(l()(),t["\u0275eld"](22,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["storing a clone of your list to revert to on endDrag, or commit to on drop"])),(l()(),t["\u0275eld"](24,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["If that sounds like too much effort, this pattern is made easy and reusable in "])),(l()(),t["\u0275eld"](26,0,null,null,1,"code",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["@angular-skyhook/sortable"])),(l()(),t["\u0275ted"](-1,null,[". You can do it without introducing a new component, too."])),(l()(),t["\u0275eld"](29,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["You can compare the source code of this example to equivalent using that abstraction, "])),(l()(),t["\u0275eld"](31,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,32).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u},null,null)),t["\u0275did"](32,671744,null,0,a.m,[a.k,a.a,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](33,2),(l()(),t["\u0275ted"](-1,null,["Simple list"])),(l()(),t["\u0275ted"](-1,null,["."])),(l()(),t["\u0275eld"](36,0,null,null,1,"basic-sortable",[],null,null,null,R,y)),t["\u0275did"](37,49152,null,0,v,[],null,null)],function(l,n){l(n,1,0,"basic-sortable"),l(n,32,0,l(n,33,0,"/sortable","simple"))},function(l,n){l(n,31,0,t["\u0275nov"](n,32).target,t["\u0275nov"](n,32).href)})}var T=t["\u0275ccf"]("basic-sortable-container",M,function(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"basic-sortable-container",[],null,null,null,S,O)),t["\u0275did"](1,49152,null,0,M,[],null,null)],null,null)},{},{},[]),E=e("JqZp");e.d(n,"ModuleNgFactory",function(){return L});var L=t["\u0275cmf"](u,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,T]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[t.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),t["\u0275mpd"](1073742336,c.f,c.f,[]),t["\u0275mpd"](1073742336,b.b,b.b,[]),t["\u0275mpd"](1073742336,a.n,a.n,[[2,a.t],[2,a.k]]),t["\u0275mpd"](1073742336,E.a,E.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,a.i,function(){return[[{path:"",component:M}]]},[])])})}}]);